document.getElementById("sitemapForm").addEventListener("submit",async function(e){e.preventDefault();let t=document.getElementById("url").value,n=document.getElementById("submitBtn"),s=document.getElementById("submitBtnText"),a=document.getElementById("spinner"),i=document.getElementById("response");function l(e){s.textContent=e,a.style.display="inline-block"}i.value="",n.disabled=!0,l("Fetching data...");try{let o=await fetch(`get_sitemap.php?url=${encodeURIComponent(t)}`);if(!o.ok)throw Error("Network response was not ok");l("Getting sitemap...");let m=await o.json();if(!m.success)throw Error(m.message);l("Parsing sitemap...");let r=m.sitemap.join("\n");l("Finalizing..."),i.value=r}catch(d){i.value="Error: "+d.message}finally{n.disabled=!1,s.textContent="Create Sitemap",a.style.display="none"}});function copyText(){var e=document.getElementById("response");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}